language: ruby
rvm:
  - '2.2.1'
  - '2.1.5'
  # ALLOWED FAILURES #
  # How compatible are we with dev versions? Research/guidance only; failures don't matter. Yet.
  - ruby-head
  - jruby-9.0.0.0.pre1
  - jruby-head
allow_failures:
  - rvm: ruby-head
  - rvm: jruby-head
  - rvm: jruby-9.0.0.0.pre1
before_script:
  - psql -c "CREATE USER $NEWPOC_DBUSER WITH PASSWORD '$NEWPOC_DBPASS';"
  - psql -d postgres -c "alter role $NEWPOC_DBUSER with createdb;"
  - bundle exec rake db:schema:load
  - bundle exec rake db:seed
